"use strict";document.addEventListener("DOMContentLoaded",()=>{function L(){var e=document.getElementById("project-modal");e&&(e.scrollTop=0,e=e.querySelector(".project-modal-content"))&&(e.scrollTop=0)}"scrollRestoration"in history&&(history.scrollRestoration="manual"),setTimeout(()=>{window.scrollTo(0,0),history.replaceState(null,null,window.location.pathname)},1),particlesJS.load("particles-js","particlesjs-config.json",()=>{console.log("Particles.js config loaded")});const o=document.querySelectorAll(".nav-item a");var e=document.querySelectorAll("section"),t={threshold:.2,rootMargin:"110px 0px 0px 0px"};const r=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.getAttribute("id");o.forEach(e=>e.parentElement.classList.remove("active"));e=[...o].find(e=>e.hash.substring(1)===t);e&&e.parentElement.classList.add("active")}})},t),n=(e.forEach(e=>r.observe(e)),document.querySelectorAll(".contact-icons a")),c=(n.forEach(t=>{t.addEventListener("mouseenter",()=>{n.forEach(e=>{e!==t&&(e.style.opacity="0.3")}),t.style.opacity="1"}),t.addEventListener("mouseleave",()=>{n.forEach(e=>e.style.opacity="1")})}),document.querySelectorAll(".project-item"));const s=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("appeared"),t.unobserve(e.target))})},{threshold:.5}),l=(c.forEach(e=>s.observe(e)),document.getElementById("mode-toggle")),a=document.getElementById("mode-toggle-text"),d=(l.addEventListener("click",()=>{document.body.classList.toggle("dark-mode"),document.body.classList.contains("dark-mode")?(a.textContent="Modo Oscuro",l.textContent="☾"):(a.textContent="Modo Claro",l.textContent="☀")}),document.getElementById("side-menu-toggle")),i=document.querySelector(".side-navbar"),m=(d.addEventListener("click",()=>{i.classList.toggle("open"),d.classList.toggle("open")}),document.getElementById("mode-toggle-mobile")),u=document.getElementById("mode-toggle-text-mobile");function g(e){if(e)try{var t=e.querySelector(".project-description h3"),o=e.querySelector(".project-image img"),r=t?t.textContent.trim():"",n=o?o.getAttribute("src"):"",c=e.querySelector(".project-extra .project-additional-info"),s=e.querySelector(".project-extra .project-tech"),l=e.querySelector(".project-extra .project-deliverables-info"),a=e.querySelector(".project-extra .project-challenges"),d=c?c.outerHTML:"",i=s?s.outerHTML:"",m=(l?l.outerHTML:"")+(a?a.outerHTML:""),u=document.getElementById("modal-title"),g=(u&&(u.textContent=r),document.getElementById("modal-img")),y=(g&&g.setAttribute("src",n),document.getElementById("modal-description")),p=(y&&(y.innerHTML=d),document.getElementById("modal-process")),E=(p&&(p.innerHTML=i),document.getElementById("modal-extra")),v=(E&&(E.innerHTML=m),document.getElementById("project-modal"));v&&(v.classList.add("active"),setTimeout(()=>{L()},25))}catch(e){console.error("Error al abrir el modal del proyecto:",e)}}function y(){var e=document.getElementById("project-modal");e&&(e.classList.remove("active"),L())}m.addEventListener("click",()=>{document.body.classList.toggle("dark-mode"),document.body.classList.contains("dark-mode")?(u.textContent="Modo Oscuro",m.textContent="☾"):(u.textContent="Modo Claro",m.textContent="☀")}),document.addEventListener("click",e=>{!i.classList.contains("open")||i.contains(e.target)||d.contains(e.target)||(i.classList.remove("open"),d.classList.remove("open"))}),i.addEventListener("click",e=>{e.stopPropagation()}),document.querySelectorAll(".btn-detail").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),g(e.target.closest(".project-item"))})}),document.querySelectorAll(".project-img").forEach(e=>{e.addEventListener("click",e=>{g(e.target.closest(".project-item"))})}),document.getElementById("close-modal").addEventListener("click",y),document.getElementById("close-modal-footer").addEventListener("click",y),document.addEventListener("keydown",function(e){"Escape"===e.key&&y()}),document.getElementById("project-modal").addEventListener("click",function(e){e.target===this&&y()});document.getElementById("arrow-btn").addEventListener("click",function(e){e.preventDefault(),this.classList.add("clicked");var e=document.querySelector("#about");e&&(e=e.offsetTop,window.scrollTo({top:e-30,behavior:"smooth"}))});e=document.querySelectorAll(".about-left, .about-right, .about-footer");const p=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.5}),E=(e.forEach(e=>p.observe(e)),document.querySelectorAll(".slider-btn"));E.forEach(e=>{e.addEventListener("click",()=>{const o=e.getAttribute("data-category");E.forEach(e=>e.classList.remove("active")),e.classList.add("active"),c.forEach(e=>{var t=e.getAttribute("data-category");"all"===o||t===o?e.style.display="block":e.style.display="none"})})});e=document.querySelectorAll(".skill-category, .circle-image");const v=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},t);e.forEach(e=>v.observe(e))});
