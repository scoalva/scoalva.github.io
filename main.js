"use strict";document.addEventListener("DOMContentLoaded",()=>{function e(){let e=document.getElementById("project-modal");if(e){e.scrollTop=0;let t=e.querySelector(".project-modal-content");t&&(t.scrollTop=0)}}"scrollRestoration"in history&&(history.scrollRestoration="manual"),setTimeout(()=>{window.scrollTo(0,0),history.replaceState(null,null,window.location.pathname)},1),particlesJS.load("particles-js","particlesjs-config.json",()=>{console.log("Particles.js config loaded")});let t=document.querySelectorAll(".nav-item a"),o=document.querySelectorAll("section"),l={threshold:.2,rootMargin:"110px 0px 0px 0px"},r=e=>{e.forEach(e=>{if(e.isIntersecting){let o=e.target.getAttribute("id");t.forEach(e=>e.parentElement.classList.remove("active"));let l=[...t].find(e=>e.hash.substring(1)===o);l&&l.parentElement.classList.add("active")}})},a=new IntersectionObserver(r,l);o.forEach(e=>a.observe(e));let c=document.querySelectorAll(".contact-icons a");c.forEach(e=>{e.addEventListener("mouseenter",()=>{c.forEach(t=>{t!==e&&(t.style.opacity="0.3")}),e.style.opacity="1"}),e.addEventListener("mouseleave",()=>{c.forEach(e=>e.style.opacity="1")})});let n=document.querySelectorAll(".project-item"),s={threshold:.5},i=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("appeared"),t.unobserve(e.target))})},s);n.forEach(e=>i.observe(e));let d=document.getElementById("mode-toggle"),g=document.getElementById("mode-toggle-text");d.addEventListener("click",()=>{document.body.classList.toggle("dark-mode"),document.body.classList.contains("dark-mode")?(g.textContent="Modo Oscuro",d.textContent="☾"):(g.textContent="Modo Claro",d.textContent="☀")});let m=document.getElementById("side-menu-toggle"),y=document.querySelector(".side-navbar");m.addEventListener("click",()=>{y.classList.toggle("open"),m.classList.toggle("open")});let p=document.getElementById("mode-toggle-mobile"),E=document.getElementById("mode-toggle-text-mobile");function u(t){if(t)try{let o=t.querySelector(".project-description h3"),l=t.querySelector(".project-image img"),r=o?o.textContent.trim():"",a=l?l.getAttribute("src"):"",c=t.querySelector(".project-extra .project-additional-info"),n=t.querySelector(".project-extra .project-tech"),s=t.querySelector(".project-extra .project-deliverables-info"),i=t.querySelector(".project-extra .project-challenges"),d=c?c.outerHTML:"",g=n?n.outerHTML:"",m=s?s.outerHTML:"",y=i?i.outerHTML:"",p=document.getElementById("modal-title");p&&(p.textContent=r);let E=document.getElementById("modal-img");E&&E.setAttribute("src",a);let u=document.getElementById("modal-description");u&&(u.innerHTML=d);let v=document.getElementById("modal-process");v&&(v.innerHTML=g);let L=document.getElementById("modal-extra");L&&(L.innerHTML=m+y);let f=document.getElementById("project-modal");f&&(f.classList.add("active"),setTimeout(()=>{e()},25))}catch(h){console.error("Error al abrir el modal del proyecto:",h)}}function v(){let t=document.getElementById("project-modal");t&&(t.classList.remove("active"),e())}p.addEventListener("click",()=>{document.body.classList.toggle("dark-mode"),document.body.classList.contains("dark-mode")?(E.textContent="Modo Oscuro",p.textContent="☾"):(E.textContent="Modo Claro",p.textContent="☀")}),document.addEventListener("click",e=>{!y.classList.contains("open")||y.contains(e.target)||m.contains(e.target)||(y.classList.remove("open"),m.classList.remove("open"))}),y.addEventListener("click",e=>{e.stopPropagation()}),document.querySelectorAll(".btn-detail").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let t=e.target.closest(".project-item");u(t)})}),document.querySelectorAll(".project-img").forEach(e=>{e.addEventListener("click",e=>{let t=e.target.closest(".project-item");u(t)})}),document.getElementById("close-modal").addEventListener("click",v),document.getElementById("close-modal-footer").addEventListener("click",v),document.addEventListener("keydown",function(e){"Escape"===e.key&&v()});let L=document.getElementById("project-modal");L.addEventListener("click",function(e){e.target===this&&v()});let f=document.getElementById("arrow-btn");f.addEventListener("click",function(e){e.preventDefault(),this.classList.add("clicked");let t=document.querySelector("#about");if(t){let o=t.offsetTop;window.scrollTo({top:o-30,behavior:"smooth"})}});let h=document.querySelectorAll(".about-left, .about-right, .about-footer"),b={threshold:.5},j=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},b);h.forEach(e=>j.observe(e));let k=document.querySelectorAll(".slider-btn");k.forEach(e=>{e.addEventListener("click",()=>{let t=e.getAttribute("data-category");k.forEach(e=>e.classList.remove("active")),e.classList.add("active"),n.forEach(e=>{let o=e.getAttribute("data-category");"all"===t||o===t?e.style.display="block":e.style.display="none"})})});let x=document.querySelectorAll(".skill-category, .circle-image"),I=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},l);x.forEach(e=>I.observe(e))});